!function(a){a.extend({listManager:function(b){var h,i,j,c=a.extend({add:"a[name='add']","delete":"a[name='delete']",up:"a[name='up']",show:function(b,c,d,e){a(c+":eq(0)",b).show(),a(d+":eq(0)",b).hide(),a(e+":eq(0)",b).hide(),a(c+":gt(0)",b).hide(),a(d+":gt(0)",b).show(),a(e+":gt(0)",b).show()}},b),d=a(c.list),e=a(c.element),f=function(b){var f=e.clone(!0);c.preAdd&&a.isFunction(c.preAdd)&&c.preAdd(f),d.append(f),b&&c.setValue&&a.isFunction(c.setValue)&&c.setValue(f,b),c.postAdd&&a.isFunction(c.postAdd)&&c.postAdd(f),c.show(d,c.add,c.delete,c.up)},g=function(b){var b=a(b);c.preDelete&&a.isFunction(c.preDelete)&&c.preDelete(b),b.remove(),c.postDelete&&a.isFunction(c.postDelete)&&c.postDelete(b),c.show(d,c.add,c.delete,c.up)};return c.add&&a(c.add,e).click(function(){f()}),c.delete&&a(c.delete,e).click(function(){g(a(this).parents(c.elementInList+":first"))}),c.up&&a(c.up,e).click(function(){var b=a(this).parents(c.elementInList+":first"),e=b.prev();e.before(b),c.show(d,c.add,c.delete,c.up)}),h=function(a){if(i(),!a)return f(),void 0;if(a instanceof Array)for(var b in a)f(a[b]);else f(a)},i=function(){d.children().remove()},j=function(b){b?(a(":input",d).attr("readOnly",!0),a(":input[type='button']",d).attr("disabled",!0),a(":input[type='checkbox']",d).attr("disabled",!0),a(":input[type='file']",d).attr("disabled",!0),a(":input[type='image']",d).attr("disabled",!0),a(":input[type='radio']",d).attr("disabled",!0),a(":input[type='reset']",d).attr("disabled",!0),a(":input[type='submit']",d).attr("disabled",!0),a("select",d).attr("disabled",!0),a(c.add,d).hide(),a(c.delete,d).hide(),a(c.up,d).hide()):(a(":input",d).attr("readOnly",!1),a(":input[type='button']",d).attr("disabled",!1),a(":input[type='checkbox']",d).attr("disabled",!1),a(":input[type='file']",d).attr("disabled",!1),a(":input[type='image']",d).attr("disabled",!1),a(":input[type='radio']",d).attr("disabled",!1),a(":input[type='reset']",d).attr("disabled",!1),a(":input[type='submit']",d).attr("disabled",!1),a("select",d).attr("disabled",!1),a(c.add,d).show(),a(c.delete,d).show(),a(c.up,d).show(),c.show(d,c.add,c.delete,c.up))},{init:h,clear:i,setReadOnly:j}}})}(jQuery);
